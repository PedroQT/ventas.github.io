<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Detalles del producto - Tienda Bonita</title>
  <style>
    :root{
      --accent: #4f90d9;       /* azul suave */
  --accent-2: #6ec1b3;     /* verde menta */
  --muted: #555555;         /* gris neutro */
  --bg: #f7f7f7;            /* fondo claro */
  --card: #ffffff;           /* tarjetas blancas */
  --glass: rgba(79, 144, 217, 0.12); /* azul transl√∫cido para botones */
  --text: #111111;           /* texto principal */
    }
    *{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#fbfaff,#f6f5fb);color:#111827}
    .container{max-width:1100px;margin:20px auto;padding:18px}

    /* topbar */
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 12px;margin-bottom:8px}
    .left-brand{display:flex;align-items:center;gap:12px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:grid;place-items:center;color:#fff;font-weight:800;font-size:18px}
    .brand-text{display:flex;flex-direction:column}
    .brand-text h1{margin:0;font-size:18px}
    .brand-text .tag{margin:0;font-size:13px;color:var(--muted)}

    .socials{display:flex;gap:8px;align-items:center}
    .socials a{display:inline-grid;place-items:center;width:36px;height:36px;border-radius:8px;text-decoration:none;color:white;font-weight:700; cursor:pointer}

    /* layout */
    .product-wrap{display:grid;grid-template-columns:1fr 420px;gap:24px;align-items:start}
    @media (max-width:980px){ .product-wrap{grid-template-columns:1fr; padding:0 12px} .right-col{width:100%} }

    .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 10px 30px rgba(20,20,40,0.06)}
    .img-hero{width:100%;height:480px;border-radius:10px;object-fit:cover;background:#f3eefc;display:block}
    @media (max-width:980px){ .img-hero{height:320px} }

    .title{font-size:22px;font-weight:800;margin:0 0 6px 0}
    .meta{color:var(--muted);margin-bottom:12px}
    .price{font-size:20px;font-weight:900;margin:8px 0}

    .qty-row{display:flex;align-items:center;gap:8px;margin:12px 0}
    .qty-row input{width:64px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);text-align:center}

    .btn{background:var(--glass);border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white}
    .btn.full{width:100%}
    .btn:hover{filter:brightness(1.03)}

    .back {display:inline-flex;align-items:center;gap:8px;color:var(--muted);text-decoration:none;cursor:pointer;margin-bottom:10px}
    .back:hover{color:#000}

    /* toast */
    #toast{position:fixed;right:20px;bottom:20px;background:#111;color:#fff;padding:10px 14px;border-radius:10px;opacity:0;transform:translateY(10px);transition:opacity .18s,transform .18s;z-index:9999}
    #toast.show{opacity:1;transform:translateY(0)}

    /* carrito flotante */
    .cart-fab{position:fixed;right:24px;bottom:24px;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:white;padding:12px 16px;border-radius:14px;box-shadow:0 12px 40px rgba(138,100,255,0.18);cursor:pointer;display:flex;align-items:center;gap:8px;z-index:60}
    .drawer{position:fixed;right:0;top:0;height:100vh;width:420px;background:white;box-shadow:-24px 0 60px rgba(9,10,12,0.06);transform:translateX(100%);transition:transform .28s;display:flex;flex-direction:column;padding:18px;z-index:70}
    .drawer.open{transform:translateX(0)}
    .drawer h3{margin:0;display:flex;align-items:center;justify-content:space-between}
    .close-drawer{background:transparent;border:none;font-size:20px;cursor:pointer}
    .cart-list{margin-top:10px;display:flex;flex-direction:column;gap:10px;overflow:auto}
    .cart-item{display:flex;gap:10px;align-items:center}
    .mini{width:56px;height:56px;border-radius:8px;background:#f6f4ff;display:grid;place-items:center}
    .cart-foot{margin-top:auto;display:flex;flex-direction:column;gap:10px}
    .btn.secondary{background:var(--glass)}
    .muted{color:var(--muted)}
    @media (max-width:900px){.drawer{width:100%}}
  </style>
</head>
<body>
  <header class="topbar container">
    <div class="left-brand">
      <div class="logo">TB</div>
      <div class="brand-text">
        <h1>Tienda Bonita</h1>
        <div class="tag">Cadenas y Busus ‚Äî dise√±o hecho a mano</div>
      </div>
    </div>

    <div class="socials">
      <a href="https://facebook.com" target="_blank" title="Facebook" style="background:#3b5998">F</a>
      <a href="https://instagram.com" target="_blank" title="Instagram" style="background:#e1306c">I</a>
      <a href="https://tiktok.com" target="_blank" title="TikTok" style="background:#000">T</a>
      <a href="https://wa.me/" target="_blank" title="WhatsApp" style="background:#25D366">W</a>
    </div>
  </header>

  <main class="container">
    <a href="#" id="backBtn" class="back">‚Üê Volver</a>

    <div class="product-wrap">
      <div class="card left-col">
        <img id="prodImg" class="img-hero" src="" alt="Producto" />
      </div>

      <aside class="card right-col">
        <div style="display:flex;flex-direction:column;gap:6px">
          <div id="prodCategory" class="muted"></div>
          <h2 id="prodTitle" class="title">T√≠tulo producto</h2>
          <div id="prodDesc" class="meta">Descripci√≥n breve del producto.</div>
          <div id="prodPrice" class="price">$0.00</div>

          <div class="qty-row">
            <label for="qty">Cantidad</label>
            <input id="qty" type="number" min="1" value="1" />
          </div>

          <button id="addBtn" class="btn primary full">Agregar al carrito</button>
          <a id="seeCategory" class="cat-link" href="#">Ver m√°s de la categor√≠a</a>
        </div>
      </aside>
    </div>
  </main>

  <!-- carrito flotante -->
  <div class="cart-fab" id="openCart">üõí <span id="fabCount">0</span></div>
  <aside class="drawer" id="drawer">
    <h3>Tu carrito <button class="close-drawer" id="closeDrawer">‚úï</button></h3>
    <div class="cart-list" id="cartList"><div class="muted">Carrito vac√≠o</div></div>
    <div class="cart-foot">
      <div style="display:flex;justify-content:space-between"><div class="muted">Total</div><div id="cartTotal" style="font-weight:800">$0.00</div></div>
      <div style="display:flex;gap:8px"><button class="btn secondary" id="clear">Vaciar</button><button class="btn primary" id="checkout">Pagar</button></div>
    </div>
  </aside>

  <div id="toast" aria-hidden="true">A√±adido al carrito</div>

  <script>
    const categories=['Cadenas','Busus','Pulseras','Anillos','Aretes','Relojes','Gorros','Mochilas','Carteras','Accesorios'];
    const products=[];let idCounter=1;
    categories.forEach(cat=>{for(let i=1;i<=7;i++){const name=`${cat} Modelo ${i}`;const price=(10+Math.floor(Math.random()*120));const seed=encodeURIComponent(cat+'-'+i);const img=`https://picsum.photos/seed/${seed}/600/400`;products.push({id:idCounter++,name,category:cat,price,desc:`${cat} estilo ${i}`,img});}});

    // helpers carrito
    let cart=[];
    function load(){const s=localStorage.getItem('tienda_cart');if(s) cart=JSON.parse(s)}
    function save(){localStorage.setItem('tienda_cart',JSON.stringify(cart))}
    function format(v){return '$'+Number(v).toFixed(2)}
    function updateFab(){document.getElementById('fabCount').textContent=cart.reduce((s,i)=>s+i.qty,0)}
    function renderCart(){
      const listEl=document.getElementById('cartList');listEl.innerHTML='';
      if(!cart.length){listEl.innerHTML='<div class="muted">Carrito vac√≠o</div>';updateFab();return;}
      let total=0;cart.forEach(it=>{total+=it.price*it.qty;
        const el=document.createElement('div');el.className='cart-item';
        el.innerHTML=`<div class="mini"><img src="https://picsum.photos/seed/${encodeURIComponent(it.name)}/80/80" style="width:44px;height:44px;border-radius:6px;object-fit:cover"/></div>
        <div style="flex:1"><div style="font-weight:700">${it.name}</div><div class="muted">${format(it.price)} x ${it.qty}</div></div>
        <div style="display:flex;flex-direction:column;gap:6px"><button class="btn secondary" data-id="${it.id}" data-action="plus">+</button><button class="btn secondary" data-id="${it.id}" data-action="minus">-</button></div>`;
        listEl.appendChild(el);
      });
      document.getElementById('cartTotal').textContent=format(total);
      updateFab();
    }

    // eventos carrito
    document.addEventListener('click',e=>{
      const btn=e.target.closest('button');if(!btn) return;
      const id=Number(btn.dataset.id);const action=btn.dataset.action;
      if(action==='plus'){const it=cart.find(i=>i.id===id);if(it) it.qty++;save();renderCart();}
      if(action==='minus'){const it=cart.find(i=>i.id===id);if(!it) return;it.qty--;if(it.qty<=0) cart=cart.filter(x=>x.id!==id);save();renderCart();}
    });
    document.getElementById('openCart').addEventListener('click',()=>{document.getElementById('drawer').classList.toggle('open')});
    document.getElementById('closeDrawer').addEventListener('click',()=>{document.getElementById('drawer').classList.remove('open')});
    document.getElementById('clear').addEventListener('click',()=>{cart=[];save();renderCart();});
    document.getElementById('checkout').addEventListener('click',()=>{if(!cart.length){alert('Carrito vac√≠o');return}alert('Simulaci√≥n de pago: total '+document.getElementById('cartTotal').textContent)});

    // producto
    function slug(s){return s.toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/g,'')}
    const params=new URLSearchParams(location.search);const idParam=Number(params.get('id'));
    const product=products.find(p=>p.id===idParam);
    if(product){
      document.getElementById('prodImg').src=product.img;
      document.getElementById('prodTitle').textContent=product.name;
      document.getElementById('prodDesc').textContent=product.desc+' ‚Äî Producto hecho con cari√±o y control de calidad.';
      document.getElementById('prodPrice').textContent=format(product.price);
      document.getElementById('prodCategory').textContent=product.category;
      document.getElementById('seeCategory').href=`category.html?cat=${slug(product.category)}`;
      document.getElementById('addBtn').addEventListener('click',()=>{
        const qty=Math.max(1,Number(document.getElementById('qty').value)||1);
        const it=cart.find(i=>i.id===product.id);
        if(it) it.qty+=qty; else cart.push({...product,qty});
        save();renderCart();showToast(`${qty} √ó ${product.name} agregado${qty>1?'s':''}`);
      });
    } else {
      document.getElementById('prodTitle').textContent='Producto no encontrado';
      document.getElementById('seeCategory').style.display='none';
    }

    // back robusto
    document.getElementById('backBtn').addEventListener('click',function(e){
      e.preventDefault();window.location.href='pagina.html';
    });

    // toast
    const toast=document.getElementById('toast');let toastTimer=null;
    function showToast(msg){toast.textContent=msg;toast.classList.add('show');clearTimeout(toastTimer);toastTimer=setTimeout(()=>toast.classList.remove('show'),2000)}

    // init
    load();renderCart();
  </script>
</body>
</html>
